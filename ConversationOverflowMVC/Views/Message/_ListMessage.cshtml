@using Services.Classes;
@model List<MessageDto>


@foreach (MessageDto m in Model)
{
    <div name="message" id="message_@m.Message.Id" class="@(m.Login == User.Identity.Name ? "chat-message-right" : "chat-message-left") pb-4">
        <div>
            <img src="@m.ImagePath" class="rounded-circle mr-1" alt="Chris Wood" width="40" height="40">
            <div class="text-muted small text-nowrap mt-2">@m.Message.CreationTime.ToLongTimeString()</div>
        </div>
        <div class="flex-shrink-1 bg-light rounded py-2 px-3 mr-3">
            <div class="font-weight-bold mb-1">@(m.Login == User.Identity.Name ? "You" : m.UserName)</div>
            @if (m.Attachment != null)
            {
                <button id="attachment_@m.Message.Id" class="btn btn-primary download">
                    <i class="fa fa-file" aria-hidden="true"></i>
                </button>
                <span>@m.Message.Text</span>
            }
            else
            {
                @m.Message.Text
            }
        </div>
    </div>
}